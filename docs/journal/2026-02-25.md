### 06:23 - Implement comparison operators (==, !=, <, >, <=, >=) [opencode/big-pickle]

**User Prompt:**
create a plan for implementing conditional operators.
...then implement the first step

**Issues Encountered:**
- Language initially only had arithmetic binary operators (Add, Subtract, Multiply, Divide, Modulo).
- Needed to add comparison operators across all compiler stages (lexer, AST, parser, typechecker, IR, interpreter).
- Multi-character tokens (`==`, `!=`, `<=`, `>=`) required careful lexer state handling.
- Typechecker needed new type rules for equality vs ordering operators.

**Decisions Made:**
- Added comparison operator tokens to lexer: `DoubleEquals`, `BangEquals`, `LessThan`, `GreaterThan`, `LessThanEquals`, `GreaterThanEquals`.
- Extended AST `BinaryOperator` enum with 6 comparison variants.
- Added parser precedence levels: `parse_equality` for `==`/`!=` and `parse_comparison` for `<`/`>`/`<=`/`>=`, placed between expression and additive.
- Typechecker: equality operators allow same-type operands (including bool), ordering operators require numeric operands. Both return `Bool` type.
- IR mirrors AST operators for lowering.
- Interpreter implements comparison for all numeric types (U32, U64, I32, I64, F32, F64) plus bool equality.

**Technical Info Consulted:**
- `crates/lexer/src/lib.rs` - TokenKind enum and lexing logic
- `crates/ast/src/lib.rs` - BinaryOperator enum
- `crates/parser/src/lib.rs` - Expression parsing with precedence
- `crates/typechecker/src/lib.rs` - Binary expression typechecking
- `crates/ir/src/lib.rs` - IR operator enum and lowering
- `crates/interpreter/src/lib.rs` - Binary expression evaluation

**Assumptions Made:**
- Comparison operators should have lower precedence than arithmetic (standard language semantics).
- Ordering comparisons only valid for numeric types; equality works with any type.
- Float comparisons use standard IEEE 754 semantics.

**Other Notes:**
- Created plan document at `docs/plans/2026-02-25-comparison-operators-plan.md`.
- All tests pass: lexer (3), parser (10), typechecker (17), interpreter (12), CLI (22).
- Committed as `703320a`.

### 06:36 - Add conformance tests for comparison operators [opencode/big-pickle]

**User Prompt:**
write examples and conformance tests for the new functionality

**Issues Encountered:**
- Expected error message spans didn't match actual output initially.
- Had to adjust diagnostic span annotations to match actual compiler output.

**Decisions Made:**
- Added interpreter conformance tests for:
  - i64 equality and ordering operators
  - bool equality operators
  - f64 equality and ordering operators
  - Comparison in function context
- Added typechecker conformance tests for:
  - Valid comparisons for i64, f64, bool
  - Type errors for mixed-type equality
  - Type errors for ordering on bool
  - Type errors for mixed numeric types in ordering

**Technical Info Consulted:**
- `tests/conformance-tests/interpreter/test-interpreter.md`
- `tests/conformance-tests/typechecker/test-typechecker.md`

**Assumptions Made:**
- Tests written within language constraints and existing test format.

**Other Notes:**
- Used `UPDATE_EXPECT=1` to update snapshot tests.
- All conformance tests pass.
- Committed as `d747c34`.
